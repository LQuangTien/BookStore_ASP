@model Book_Shop.Models.User
@{
    ViewBag.Title = "Register";
    Layout = "~/Views/Shared/_Layout_Store.cshtml";
}
@section products_breadcrumb
{
    <div class="products-breadcrumb">
        <div class="container">
            <ul>
                <li><i class="fa fa-home" aria-hidden="true"></i><a href="/">Home</a><span>|</span></li>
                <li>Register</li>
            </ul>
        </div>
    </div>
}
@section w3l_banner_nav_right
{

    @if (@ViewBag.Result != null)
    {
        <div class="alert alert-danger">@ViewBag.Result</div>
    }
    <h2>Welcome to our website</h2>
    <form class="register__layout" action="/Users/Register" method="post" enctype="multipart/form-data">
        @Html.AntiForgeryToken()
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <table class="register__table">
            <tr colspan="3">
                <td><label for="username">Username<span class="register__required">*</span>:</label></td>
                <td>
                    <input class="form-control" id="username" required name="username"/>
                </td>
                <td>
                    <img id="blah" width="72px" height="72px" />
                    <label for="imgInp" id="avatar-label">
                        Choose your avatar
                        <input type="file" name="avatar" id="imgInp" style="display: none;" />
                    </label>
                    @Html.ValidationMessageFor(model => model.avatar, "", new { @class = "text-danger" })
                </td>
            </tr>
            <tr>
                <td><label for="password">Password<span class="register__required">*</span>:</label></td>
                <td>
                    <input class="form-control" type="password" name="password" id="password" required />
                </td>
            </tr>
            <tr>
                <td><label for="confirmPassword">Confirm password<span class="register__required">*</span>:</label></td>
                <td>
                    <input class="form-control" type="password" name="confirmPassword" id="confirmPassword" required />
                </td>
            </tr>
            <tr>
                <td><label for="email">Email<span class="register__required">*</span>:</label></td>
                <td>
                    <input class="form-control" id="email" required name="email" type="email" />
                </td>
            </tr>
            <tr>
                <td><label for="phone">Phone<span class="register__required">*</span>:</label></td>
                <td>
                    <input class="form-control" id="phone" required name="phone" type="number" />
                </td>
            </tr>
            <tr>
                <td><label for="address">Address<span class="register__required">*</span>:</label></td>
                <td>
                    <input class="form-control" id="address" required name="address" />
                </td>
            </tr>
            <tr>
                <td><label for="payment">Payment Card:</label></td>
                <td>
                    <input class="form-control" id="payment" name="payment"/>
                </td>
            </tr>
            <tr>
                <td></td>
                <td>
                    <button type="submit" class="btn btn-lg btn-block register__btn">Submit</button>
                </td>
            </tr>
        </table>
    </form>

}
@Scripts.Render("~/bundles/jquery")
<script>
    //Preview & Update an image before it is uploaded
    $(document).ready(function () {
        $("#imgInp").change(function () {
            readURL(this);
        });
        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $('#blah').attr('src', e.target.result);
                }
                reader.readAsDataURL(input.files[0]);
            }
        }
    });

</script>
@*<script>
        var password = document.getElementById("password")
            , confirm_password = document.getElementById("confirm_password");

        function validatePassword() {
            if (password.value != confirm_password.value) {
                confirm_password.setCustomValidity("Passwords Don't Match");
            } else {
                confirm_password.setCustomValidity('');
            }
        }

        password.onchange = validatePassword;
        confirm_password.onkeyup = validatePassword;
    </script>*@

